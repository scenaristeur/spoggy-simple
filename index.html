<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spoggy</title>
  <script type="text/javascript" src="./dist/jquery-3.4.1.min.js"></script>
  <!--Vendor LIBS -->
  <script type="text/javascript" src="./dist/eve.custom.js"></script>
  <script type="text/javascript" src="./dist/rdflib.min.js"></script> <!-- pour import ttl local -->
  <!--  <script type="text/javascript" src="./dist/solid-auth-client.bundle.js"></script> -->
  <script type="text/javascript" src="./dist/solid-file-client.bundle.js"></script>

  <!-- Agents-->
  <script type="text/javascript" src="./agents/HistoriqueAgent.js"></script>
  <script type="text/javascript" src="./agents/AppAgent.js"></script>
  <script type="text/javascript" src="./agents/RdfAgent.js"></script>
  <script type="text/javascript" src="./agents/AuthAgent.js"></script>
  <script type="text/javascript" src="./agents/FileAgent.js"></script>
  <!--<script type="text/javascript" src="./agents/FormAgent.js"></script>-->

  <!-- Graph Vis -->
  <link href="./dist/vis-network.min.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="./dist/vis-network.min.js"></script>
  <script type="text/javascript" src="./js/network.js"></script>

  <!-- Spoggy -->
  <script type="text/javascript" src="./js/levels.js"></script>


  <script type="text/javascript" src="./js/import-export.js"></script>
  <script type="text/javascript" src="./js/spoggy.js"></script>
  <script type="text/javascript" src="./js/solid.js"></script>

  <!-- ZUIX -->
  <!--  <script type="text/javascript" src="./dist/zuix.min.js"></script> -->
  <!-- TEST MOBILE, virer aussi le css <link href="./css/mobile.css" rel="stylesheet" type="text/css" /> -->


  <!-- material  https://github.com/material-components/material-components-web/blob/master/docs/getting-started.md -->
  <!--<link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
  <link href="./css/material-components-web.min.css" rel="stylesheet" type="text/css" />
  <script src="./dist/material-components-web.min.js"></script>
  <link href="./css/icon.css" rel="stylesheet" type="text/css" />
  <link href="./css/main.css" rel="stylesheet" type="text/css" />

  <!-- <script src="https://unpkg.com/@webcomponents/webcomponentsjs@latest/webcomponents-loader.js"></script>-->
  <!--<script src="./dist/webcomponents-loader.js"></script>
  <script type="module" src="./components/accueil-holacratie.js"></script>-->
  <link rel="manifest" href="/manifest.json">


</head>

<body onload="init();initSpoggy();" bgcolor="#E6E6FA">

  <!--
  <div id="attachGlobal">
  <div id="global">-->
  <div dir="rtl" id="rtl-menu">
    <header id="app-bar"
    class="mdc-top-app-bar mdc-top-app-bar--short mdc-top-app-bar--short-collapsed"
    style="top:35px"
    onmouseover="toggleToolbar(this)"
    onmouseout="toggleToolbar(this)"
    onclick="toggleDrawer()">
    <!--https://material-components.github.io/material-components-web-catalog/#/component/top-app-bar-->
    <div class="mdc-top-app-bar__row">
      <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
        <a href="#" class="material-icons mdc-top-app-bar__navigation-icon">menu</a>
        <span class="mdc-top-app-bar__title">Spoggy</span>
      </section>
    </div>


  </header>


  <aside id="app-drawer"
  class="mdc-drawer mdc-drawer--dismissible mdc-top-app-bar--fixed-adjust">
  <div class="mdc-drawer__content">
    <div class="mdc-list">
      <!--<a class="mdc-list-item goFS" href="#">
      <i class="material-icons mdc-list-item__graphic" aria-hidden="true">fullscreen</i>
      <span class="mdc-list-item__text">Fullscreen</span>
    </a>-->
    <a class="mdc-list-item mdc-list-item--activated" href="#" aria-current="page" onclick="catchCommande({value:'/n'})">
      <i class="material-icons mdc-list-item__graphic" aria-hidden="true">edit</i>
      <span class="mdc-list-item__text">Nouveau /n</span>
    </a>
    <!--  <a class="mdc-list-item" href="#" onclick="catchCommande({value:'/i'})">
    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">open_in_browser</i>
    <span class="mdc-list-item__text">Ouvrir /i</span>
  </a>-->
  <a class="mdc-list-item" href="#" onclick="open_ub()">
    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">save</i>
    <span class="mdc-list-item__text">Universal Browser /a</span>
  </a>
  <a class="mdc-list-item" href="#" onclick="catchCommande({value:'/r'})">
    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">settings</i>
    <span class="mdc-list-item__text">Réglages /r</span>
  </a>
  <a class="mdc-list-item" href="#" onclick="catchCommande({value:'/c'})">
    <i class="material-icons mdc-list-item__graphic" aria-hidden="true">image</i>
    <span class="mdc-list-item__text">Capturer en jpg</span>
  </a>

</div>
</div>
</aside>
</div>

<!--   <div class="mdc-drawer-app-content mdc-top-app-bar--fixed-adjust">
<main class="main-content" id="main-content">
</main>
</div>
</div>
</div>-->






<br>
<br><br>
<br>
<div id="principal">
  <h2>SPOGGY</h2>




  <!--<div data-ui-load="@lib/controllers/view_pager">
  elements of the ViewPager
  <div>Page 1</div>
  <div>Page 2</div>
  <div>Page 3</div>
</div>-->
<div style="float:left">

  <div style="float:auto">
    <fieldset>
      <legend>Exemples JSON OK</legend>
      <a href="?source=https://raw.githubusercontent.com/scenaristeur/heroku-spoggy/master/public/exemple_files/DavidProjets_spoggy_nodes_edges_1511453311975.json">Projets David</a> ou <a href="https://bit.ly/2OLAAZv" target="_blank">Projets David</a><br><br>
      <a href="?source=https://raw.githubusercontent.com/scenaristeur/heroku-spoggy/master/public/exemple_files/Barriere%20Lego.json">Barrière LEGO sur github</a><br><br>
      <a href="?source=https://smag0.solid.community/public/spoggy/Graph_Couleurs_Martin.json">Graph_Couleurs_Martin, JSON sur POD public smag0</a><br><br>
      <a href="?source=https://raw.githubusercontent.com/scenaristeur/heroku-spoggy/master/public/exemple_files/Spoggy-Donner%20du%20sens%20%C3%A0%20l'IA.json">Donner du sens à l'IA</a><br><br>
    </fieldset>
  </div>


  <div style="float:auto">
    <fieldset>
      <legend>Defis<span id="level1"></span></legend>

      <ul id="defis">
        <li>(fr) Defi #1 : Créez un Graphe Spoggy contenant 3 noeuds (node) & 5 liens (edge) en utilisant le bouton "Edit".<br>
          (en) Defi #1 : Create a Spoggy Graph containing 3 nodes (noeuds) & 5 edges (liens) using the "Edit" button.<br>
          <a href="https://www.youtube.com/watch?v=XkI6cJPUTuk" target="_blank">Help</a>
        </li>

      </ul>
    </fieldset>
    <fieldset>
      <legend>Comment faire pour... | How to...<span id="level"></span></legend>

      <ul id="tutos-levels"> </ul>
      <button id="goFS" class="foo-button mdc-button goFS">Utiliser SPOGGY en plein ecran (fullscreen)</button>
    </fieldset>
  </div>



  <div style="float:auto">
    <div style="float:auto">


      <div style="float:auto">
        <fieldset>
          <legend>Outils</legend>
          <button id="nouveau_graph" onclick="catchCommande({value:'/n'})">Nouveau</button> /n
          <!--  <button id="importer_btn" onclick="catchCommande({value:'/i'})">Ouvrir</button> /i-->
          <button id="save_to_pod" onclick="open_ub()">Universal Browser</button> /a
          <button id="capture_graphe" onclick="catchCommande({value:'/c'})">Capturer jpg</button> /c
        </fieldset>
      </div>


      <div style="float:left" id="mynetwork" bgcolor="#E6E6FA">  </div>




    </div>
    <!--  <div style="float:left">

    <fieldset>
    <legend>Input</legend>
    <input id="input" style="width:80%" onkeyup="inputChanged(this)" type="text" placeholder="Saisis ici 3 mots suivis d'une virgule et valide"></input>
    <button id="valider" onclick="validInput()">Valider</button>

    <br>
    Ajouter un triplet : 3 mots suivis d'un point ou virgule ou point-virgule ou tiret et 'Validez' <br>
    ou lancez un commande commançant par '/' (/n = nouveau, /e = export, /i = import...)<br>
    ou importer une url (json, ttl, rdf, POD...)<br>
  </fieldset>


</div>
-->


</div>


</div>





<div>

</div>




<div style="float:auto">
  <fieldset>
    <legend>Historique : Console | Navigation | Commandes | Recherches | Sources</legend>
    <textarea id="story" name="story" rows="5" style="width:90%">
      It was a dark and stormy night...
    </textarea>
  </fieldset>
</div>



<div style="float:auto">
  <fieldset>
    <legend>Exemples POD en developpement</legend>
    <a href="?source=https://spoggy.solid.community/public/test/">Folder Test : https://spoggy.solid.community/public/test/</a><br>
    <a href="?source=https://smag0.solid.community/profile/card#me">Explorer un POD (smag0) : firends,  public (& prive si auth)</a><br>
    <a href="?source=https://holacratie.solid.community/profile/card#me">Et Parcourir les Friends (holacratie)</a><br>
    <a href="?source=https://raw.githubusercontent.com/scenaristeur/heroku-spoggy/master/public/exemple_files/DavidProjets.ttl"> David Projets TTL sur Github</a><br>
    <a href="?source=https://smag0.solid.community/public/spoggy/Spoggy-caracteristiques.ttl">Spoggy-caracteristiques.ttl sur POD public smag0</a><br>
    <a href="?source=https://smag0.solid.community/public/">POD public smag0</a><br>
    <a href="?source=https://holacratie.solid.community/public/Schema">Shex shapes form test Forms </a><br>
    <a href="testform.html" target="_blank">Test Forms</a></br>
    <a href="shexy/index.html" target="_blank">Shexy</a></br></br>



    <br>
    todo :
    urls Persee, urls Semantic Forms, https://www.orpha.net/sparql?nsdecl...  Parcourir pour importer un ttl, rdf<br>
    <input id="url-remote" value=""></input>
    <button  onclick="fetchRemote()">Test FetchRemote</button><br>
    <button  onclick="parseLocal()">Test Parse local</button>
    <a href="https://github.com/scenaristeur/heroku-spoggy/tree/master/public/exemple_files" target="_blank">exemples de fichiers spoggy </a>
  </fieldset>
  <fieldset>
    <legend>Websocket / notifications</legend>
    sur deux fichiers : <br>
    <a href="https://spoggy.solid.community/public/test/fichier.ttl" target="_blank">https://spoggy.solid.community/public/test/fichier.ttl</a><br>
    <a href="https://spoggy.solid.community/public/test/fichier2.ttl" target="_blank">https://spoggy.solid.community/public/test/fichier2.ttl</a><br>
    ne fonctionne pas sur le dossier https://spoggy.solid.community/public/test/<br>
    <button onclick="testWebSocket()">Activer</button>
    <textarea id="notification" name="notification" rows="5"  style="width:90%">
    </textarea>

  </fieldset>
</div>








<div style="float:auto">
  <fieldset>
    <legend>Explorateur Global</legend>
    <ul>
      <li>Enpdpoint Sparql
        <li>requete</li>
        <li>filtre</li>
        <li>reasoner</li>
        <li>authentification</li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>Cluster</legend>

      <div  style="float:auto">
        <input type="button" onclick="clusterByCid()" value="by cid=1 (Navigation POD)"> <br />
        <input type="button" onclick="clusterByConnection()" value="'node 1' by connec"> <br />
        <input type="button" onclick="clusterByColor()" value="by color"> <br />

        <input type="button" onclick="clusterOutliers()" value="outliers"> <br />
        <input type="button" onclick="clusterByHubsize()" value="hubsize"> <!--<br/>
          <input type="button" onclick="clusterNavigation()" value="Navigation"> <br/>
          <input type="button" onclick="clusterHistorique()" value=" Historique"> <br/>
          <input type="button" onclick="toggleNavigation()" value="Navigation / Data"> <br/>-->
        </div>
      </fieldset>

    </div>




    <footer>
      en savoir plus ? <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">spoggy-simple</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Aide</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Formation</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Developper un plugin Spoggy</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Spoggy dans votre entreprise</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Contact</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Partenaires</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Api</a><br>
      <a href="https://github.com/scenaristeur/spoggy-simple/blob/master/README.md" target="_blank">Mécenat</a><br>

    </footer>



    <!-- POPUPS -->



    <div id="popup-container" >

      <ul class='custom-menu'>
        <li data-action="edit">Edit(er)</li>
        <li data-action="expand">Expand / Explorer</li>
        <!--<li data-action="third">Third thing</li>-->
      </ul>

      <div id="bottom-menu">
        <button id="fabkeyb" class="mdc-fab mdc-fab--mini" aria-label="Keyboard">
          <span class="mdc-fab__icon material-icons">keyboard</span>
        </button>
        <button id="fabnav" class="mdc-fab mdc-fab--mini" aria-label="Explore" onclick="clusterByCid()">
          <span class="mdc-fab__icon material-icons">explore</span>
        </button>
        <button id="fabedit" class="mdc-fab mdc-fab--mini" aria-label="Editeur" onclick="open_ub()">
          <span class="mdc-fab__icon material-icons">format_align_justify</span>
        </button>
      </div>

      <div id="triplet-popUp" class="popUp">
        <!--  <h2 id="my-dialog-title">3 mots suivis d'une virgule et valider, ou saisissez une commande</h2>
      -->

      <!--          https://material-components.github.io/material-components-web-catalog/#/component/text-field?icons=leadingIcon%2CtrailingIcon-->

      <div class="mdc-text-field mdc-text-field--fullwidth" id="triplet-input">
        <!--  <input class="mdc-text-field__input"  autofocus  > -->
        <input class="mdc-text-field__input"  autofocus id="input" onkeyup="inputChanged(this)" type="text" ></input>
        <div class="mdc-line-ripple" ></div>
        <label class="mdc-floating-label">3 mots suivis d'une virgule et valider, ou saisissez une commande</label>
      </div>
      <!--  <input id="input" onkeyup="inputChanged(this)" type="text" ></input> -->
      <footer class="mdc-dialog__actions">
        <button  class="foo-button mdc-button" onclick="validInput()">Valider</button>
        <!--<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">
        <span class="mdc-button__label">No</span>
      </button>-->
      <button onclick="closeTripletPopup()" class="foo-button mdc-button" type="button" >Fermer </button>
    </footer>

  </div>







  <div id="node-popUp" class="popUp">

    <h2  id="node-operation" style="margin: 0;color: #0D578B;">node
      <!--  <paper-icon-button icon="clear" dialog-dismiss></paper-icon-button>-->
      <span >
        <i
        class="material-icons mdc-list-item__graphic"
        aria-hidden="true"
        onclick="(function(){ document.getElementById('node-popUp').style.display = 'none'; })();">
        clear</i>
      </span>
    </h2>
    <input style="display:none" id="node-id" value="" />

  </br>
  <div class="mdc-select" id="holacratie-select">
    <i class="mdc-select__dropdown-icon"></i>
    <select class="mdc-select__native-control">
      <option value="default" selected></option>
      <option value="Personne">
        Personne
      </option>
      <option value="Tension">
        Tension
      </option>
      <option value="Organisation">
        Organisation
      </option>
      <option value="Role">
        Rôle
      </option>
      <option value="Cercle">
        Cercle
      </option>
    </select>
    <label class="mdc-floating-label">Type de noeud</label>
    <div class="mdc-line-ripple"></div>
  </div>

  <br>

  <div class="mdc-form-field" >
    <!--          https://material-components.github.io/material-components-web-catalog/#/component/text-field?icons=leadingIcon%2CtrailingIcon-->

    <div class="mdc-text-field" id="mdc-node-input">
      <input class="mdc-text-field__input" id="node-label"  autofocus>
      <div class="mdc-line-ripple"></div>
      <label class="mdc-floating-label">Nom du noeud</label>
    </div>
  </div>
  <br>
  <!--
  <div class="mdc-text-field mdc-text-field--with-leading-icon mdc-text-field--with-trailing-icon">
  <i class="material-icons mdc-text-field__icon">favorite</i>
  <i class="material-icons mdc-text-field__icon">visibility</i>
  <input class="mdc-text-field__input" id="node-label" autofocus>
  <div class="mdc-line-ripple"></div>
  <label class="mdc-floating-label">Name</label>
</div>-->

</br>


<!--  <label for="node-shape">Forme:</label>

<select id="node-shape">
<optgroup label="Label interne">
<option>ellipse</option>
<option>circle</option>
<option>database</option>
<option>box</option>
<option>text</option>
</optgroup>
<optgroup label="Label externe">
<option>image</option>
<option>circularImage</option>
<option>diamond</option>
<option>dot</option>
<option>star</option>
<option>triangle</option>
<option>triangleDown</option>
<option>hexagon</option>
<option>square</option>
<option>icon</option>
</optgroup>

</select>-->

<div class="mdc-select" id="forme-select">
  <i class="mdc-select__dropdown-icon"></i>
  <select class="mdc-select__native-control" id="node-shape">>
    <!--  <option value="" disabled selected></option> -->
    <optgroup label="Label interne">
      <!--  <option value="ellipse" >par défaut</option>-->
      <option value="ellipse" selected>Ellipse</option> <!--selected -->
      <option value="circle">Cercle</option>
      <option value="database">Silo</option>
      <option value="box">Boîte</option>
      <option value="text">Texte</option>
    </optgroup>
    <optgroup label="Images">
      <option value="image">Image Rectangualire (url)</option>
      <option value="circularImage">Image Circulaire (url)</option>
    </optgroup>
    <optgroup label="Label externe">
      <option value="diamond">Diamant</option>
      <option value="dot">Point</option>
      <option value="star">Etoile</option>
      <option value="triangle">Triangle</option>
      <option value="triangleDown">Triangle inversé</option>
      <option value="hexagon">Héxagone</option>
      <option value="square">Carré</option>
      <option value="icon">Icône</option>
    </optgroup>
    <!--  <option value="grains">
    Bread, Cereal, Rice, and Pasta
  </option>
  <option value="vegetables">
  Vegetables
</option>
<option value="fruit">
Fruit
</option>-->
</select>
<label class="mdc-floating-label">Forme</label>
<div class="mdc-line-ripple"></div>
</div>
<input style="display:none;width:80%" id="node-image-url" placeholder="url de l'image" value="" />




</br>




<footer class="mdc-dialog__actions">
  <button id="node-cancelButton" class="foo-button mdc-button">Annuler</button>
  <button id="node-saveButton" class="foo-button mdc-button">Valider</button>
</footer>

</div>

<div id="edge-popUp" class="popUp">
  <span id="edge-operation">edge</span> <br>
  <table style="margin:auto;">
    <tr>
      <td>label</td><td><input id="edge-label" /></td>
    </tr></table>
    <input type="button" value="save" id="edge-saveButton" />
    <input type="button" value="cancel" id="edge-cancelButton" />
  </div>





  <div id="import-popUp" class="popUp">
    <div style="padding-left:20px" vertical start-justified start layout wrap>
      <h2 id="importOperation" style="margin: 0;color: #0D578B;">Ouvrir
        <span>
          <i
          class="material-icons mdc-list-item__graphic"
          aria-hidden="true"
          onclick="(function(){ document.getElementById('import-popUp').style.display = 'none'; })();">
          clear</i>
        </span>
      </h2>

      <fieldset>
        <legend>Dernières publications<div id="webId"></div></legend>
        <button   onclick="last_public()">Afficher les dernières publications publiques</button>
        <button   onclick="open_ub()">Universal Browser</button>

      </fieldset>

      <fieldset>
        <legend>Url / POD Solid <div id="webId"></div></legend>
        <button onclick="podBrowser('public')">Utiliser le POD public</button>
        <button class="logout" onclick="podBrowser('connecte')">Utiliser le POD Connecté</button>
        <button  class="login" onclick="login()">Se connecter sur un POD</button>
        <button class="logout" onclick="logout()">Se deconnecter du POD</button><br><br>

        current webId : <div id="current-webId"></div>
        <button id="profile-btn" onclick="profile()">Profile</button>
        <button id="public-btn" onclick="browsePublicFromWebId(document.getElementById('current-webId').innerHTML)">Public</button>
        <button id="friends-btn" onclick="friends()">Friends</button><br>
        current Folder : <div id="current-folder">
          parent Folder :  <div id="current-folder-parent"></div>
          <!--  current Folder :   <div id="current-folder-url"></div> -->

        </div>
      </fieldset>
    </div>

    <input type="button" value="Fermer" onclick="(function(){ document.getElementById('import-popUp').style.display = 'none'; })();"/>
  </div>

  <!--  <div id="select-pod-popUp" class="popUp">
  <div style="padding-left:20px" vertical start-justified start layout wrap>
  <h2 id="selectPodOperation" style="margin: 0;color: #0D578B;">Enregistrer
  <paper-icon-button icon="clear" dialog-dismiss></paper-icon-button></h2>
  <p>
  <fieldset>
  <legend>Format</legend>

  <button id="exporter_json" onclick="catchCommande({value:'/e'})">JSON</button> /e
  <button id="exporter_ttl" onclick="catchCommande({value:'/t'})">Ttl</button> /t

</fieldset>

<fieldset>
<legend>POD public (libre anonyme) / perso ou partagé (se connecter)</legend>

<button onclick="reset_Public_POD()">Utiliser le POD public</button>
<button class="logout" onclick="restoreCurrentSession()">Utiliser le POD Connecté</button>
<button  class="login" onclick="login()">Se connecter sur un POD</button>
<button class="logout" onclick="logout()">Se deconnecter du POD</button>


<br>
<input type="text" id="PODurlInput" style="width:80%"  placeholder="Url du POD"></input> <div hidden >Public / Perso / Group </div>
<button onclick="podBrowser(document.getElementById('PODurlInput').value)">Parcourir</button><br>
</fieldset>
</p>
</div>

<input type="button" value="Fermer" onclick="(function(){ document.getElementById('select-pod-popUp').style.display = 'none'; })();"/>
</div>-->


<div id="pod-browser-popUp" class="popUp">
  <div style="padding-left:20px" vertical start-justified start layout wrap>
    <h2 id="selectPodOperation" style="margin: 0;color: #0D578B;">POD Browser

      <span>
        <i
        class="material-icons mdc-list-item__graphic"
        aria-hidden="true"
        onclick="(function(){ document.getElementById('pod-browser-popUp').style.display = 'none'; })();">
        clear</i>
      </span>
    </h2>
    <p>

      <fieldset>
        <legend>Enregistrer sur un POD</legend>
        POD public (libre anonyme) ou POD connecté (perso ou partagé)<br>
        Pod public : <a href="https://agora.solid.community" target="_blank">https://agora.solid.community</a><br>
        <button
        type="button"
        class="mdc-button mdc-dialog__button"
        data-mdc-dialog-action="yes"
        onclick="podBrowser('public')"
        raised>
        <span class="mdc-button__label">POD public</span>
      </button>
      <button
      type="button"
      class="mdc-button mdc-dialog__button logout"
      data-mdc-dialog-action="yes"
      onclick="podBrowser('connecte')">
      <span class="mdc-button__label">POD Connecté</span>
    </button>
    <button
    type="button"
    class="mdc-button mdc-dialog__button login"
    data-mdc-dialog-action="yes"
    onclick="login()">
    <span class="mdc-button__label">Se connecter sur un POD</span>
  </button>
  <button
  type="button"
  class="mdc-button mdc-dialog__button logout"
  data-mdc-dialog-action="yes"
  onclick="logout()">
  <span class="mdc-button__label">Se deconnecter du POD</span>
</button>

POD séléctionné : <input type="text" id="PODurlInput" style="width:80%"  placeholder="Url du POD"></input>
<div hidden >Public / Perso / Group </div>

</fieldset>
<!--  <button onclick="podBrowser(document.getElementById('PODurlInput').value)">Parcourir</button><br>-->

dossier courant :   <div id="current-folder-url"></div>
<input id="new-folder-input" style="width:80%"  placeholder="Nom de dossier"></input>
<button id="new-folder-btn" onclick="createFolder()">Créer un dossier</button><br>
<input id="new-file-input" style="width:80%"  placeholder="Nom de fichier"></input>
<button id="jsonSave-btn" onclick="jsonSave()">Enregistrer en JSON sur le POD</button>
<button id="turtleSave-btn" onclick="turtleSave()">Enregistrer en Turtle (ttl) sur le POD</button><br>
</p>
<fieldset>
  <legend>Dossier</legend>
  <ul id="folderslist">
  </ul>

</fieldset>
<fieldset>
  <legend>Fichier</legend>
  <ul id="fileslist">
  </ul>
</fieldset>
</div>

<input type="button" value="Fermer" onclick="(function(){ document.getElementById('pod-browser-popUp').style.display = 'none'; })();"/>
</div>


<div id="editeur-popUp" class="popUp">
  <div style="padding-left:2px" vertical start-justified start layout wrap>
    <h2  style="margin: 0;color: #0D578B;">Enregistrer
      <!--  <paper-icon-button icon="clear" dialog-dismiss></paper-icon-button>-->
      <span>
        <i
        class="material-icons mdc-list-item__graphic"
        aria-hidden="true"
        onclick="(function(){ document.getElementById('editeur-popUp').style.display = 'none'; })();">
        clear</i>
      </span>
    </h2>

  </div>

</div>



<div
id="universal-browser"
class="mdc-dialog"
role="alertdialog"
aria-modal="true"
aria-labelledby="ub-title"
aria-describedby="ub-content">
<div class="mdc-dialog__container">
  <div class="mdc-dialog__surface">
    <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
    <h2 class="mdc-dialog__title" id="ub-title"><!--
    -->Universal Browser   <span>
    <i
    class="material-icons mdc-list-item__graphic"
    aria-hidden="true"
    data-mdc-dialog-action="yes"
    >
    clear</i>
  </span><!--
  --></h2>

  <div class="mdc-tab-bar" id="open-tab-bar" role="tablist">
    <div class="mdc-tab-scroller">
      <div class="mdc-tab-scroller__scroll-area">
        <div class="mdc-tab-scroller__scroll-content">
          <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="0" onclick="selectOpenTab(this)">
            <span class="mdc-tab__content">
              <!--  <span class="mdc-tab__icon material-icons" aria-hidden="true">folder_open</span>-->
              <span class="mdc-tab__text-label">Editeur</span>
            </span>
            <span class="mdc-tab-indicator mdc-tab-indicator--active">
              <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
            </span>
            <span class="mdc-tab__ripple"></span>
          </button>

          <button class="mdc-tab  mdc-tab--active" role="tab"  onclick="selectOpenTab(this)">
            <span class="mdc-tab__content">
              <span class="mdc-tab__icon material-icons" aria-hidden="true">cloud_queue</span>
              <span class="mdc-tab__text-label">Local</span>
            </span>
            <span class="mdc-tab-indicator mdc-tab-indicator--active">
              <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
            </span>
            <span class="mdc-tab__ripple"></span>
          </button>


          <button class="mdc-tab  mdc-tab--active" role="tab"  onclick="selectOpenTab(this)">
            <span class="mdc-tab__content">
              <span class="mdc-tab__icon material-icons" aria-hidden="true">cloud_queue</span>
              <span class="mdc-tab__text-label">Pod</span>
            </span>
            <span class="mdc-tab-indicator mdc-tab-indicator--active">
              <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
            </span>
            <span class="mdc-tab__ripple"></span>
          </button>


          <button class="mdc-tab  mdc-tab--active" role="tab" onclick="selectOpenTab(this)">
            <span class="mdc-tab__content">
              <span class="mdc-tab__icon material-icons" aria-hidden="true">cloud</span>
              <span class="mdc-tab__text-label">Temps réel</span>
            </span>
            <span class="mdc-tab-indicator mdc-tab-indicator--active">
              <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
            </span>
            <span class="mdc-tab__ripple"></span>
          </button>




        </div>
      </div>
    </div>
  </div>

  <div class="mdc-dialog__content" id="ub-content">

    <section>
      <div class="js-panels" for='open-tab-bar'>
        <div id="mdc-tab-1-panel" class="js-panel is-active" role="tabpanel" aria-hidden="false">

          <!-- editeur -->
          <div>
            Format :
            <button
            type="button"
            class="mdc-button mdc-dialog__button"
            onclick="catchCommande({value:'/e'})">
            <span class="mdc-button__label">json</span>
          </button>
          <button
          type="button"
          class="mdc-button mdc-dialog__button"
          onclick="catchCommande({value:'/t'})">
          <span class="mdc-button__label">ttl</span>
        </button>
      </div>
      <!--  <p>
      dossier courant :   <div id="current-folder-url"></div>
      <input id="new-folder-input" style="width:80%"  placeholder="Nom de dossier"></input>
      <button id="new-folder-btn" onclick="createFolder()">Créer un dossier</button><br>
      <input id="new-file-input" style="width:80%"  placeholder="Nom de fichier"></input>
      <button id="jsonSave-btn" onclick="jsonSave()">Enregistrer en JSON sur le POD</button>
      <button id="turtleSave-btn" onclick="turtleSave()">Enregistrer en Turtle (ttl) sur le POD</button><br>
    </p>-->

    <!--  <div class="mdc-dialog__surface">-->
    <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
    <!--  <h2 class="mdc-dialog__title" id="editor-dialog-title">Editeur
    <span onclick="(function(){ document.getElementById('editeur-popUp').style.display = 'none'; })();"> X</span>
  </h2>-->
  <!--  <div class="mdc-dialog__content" id="editor-dialog-content" >-->
  <pre id="editor"></pre>
  <!--  </div>-->
  <div>
    <button
    type="button"
    class="mdc-button mdc-dialog__button"

    onclick="downloadFile()">
    <span class="mdc-button__label">Telecharger</span>
  </button>

  <button
  type="button"
  class="mdc-button mdc-dialog__button"

  onclick="openPodBrowser()">
  <span class="mdc-button__label">Enregistrer sur un POD</span>
</button>
<!--
<button
type="button"
class="mdc-button mdc-dialog__button"
data-mdc-dialog-action="yes"
onclick="(function(){ document.getElementById('editeur-popUp').style.display = 'none'; })();">
<span class="mdc-button__label">Fermer</span>
</button>-->
</div>



</div>
<div id="mdc-tab-2-panel" class="js-panel" role="tabpanel" aria-hidden="true">
  <input type="checkbox" id="remplaceNetwork" name="remplaceNetwork">Remplacer le graphe</input> <br><br>
  <!--<input type="checkbox" id="partageImport"  name="partageImport"disabled >Partager Import</input>-->
  <filedset>
    <legend>Depuis mon disque dur</legend>
    <input id="filepicker" type="file" multiple value="Importer" onchange="handleFileSelected(this, updateGraph)"></input>
  </fieldset>

  <filedset>
    <legend>Depuis une url</legend>
    <input id="filepicker"  value="Importer" onchange="handleFileSelected(this, updateGraph)"></input>
  </fieldset>
</div>

<div id="mdc-tab-3-panel" class="js-panel" role="tabpanel" aria-hidden="true">
  <div >
    <button
    type="button"
    class="mdc-button"
    onclick="changePod('public')">
    <span class="mdc-button__label">POD public</span>
  </button>
  <a href="https://agora.solid.community/public" target="_blank">https://agora.solid.community/public</a><br>
  <button
  type="button"
  class="mdc-button logout"
  onclick="changePod('connecte')">
  <span class="mdc-button__label">POD Connecté</span>
</button>
<button
type="button"
class="mdc-button login"
data-mdc-dialog-action="yes"
onclick="login()">
<span class="mdc-button__label">Se connecter sur un POD</span>
</button>
<button
type="button"
class="mdc-button logout"
data-mdc-dialog-action="yes"
onclick="logout()">
<span class="mdc-button__label">Se deconnecter du POD</span>
</button>
<br>
<input id="importUrl" style="width:80%" placeholder="Url / POD"></input>
<button onclick="importFromUrl()">Importer</button><br>
<input type="text" id="pod2browse" style="width:80%"  placeholder="Url du POD"></input>

<br>
<button
type="button"
class="mdc-button"
data-mdc-dialog-action="yes"
onclick="profile()">
<span class="mdc-button__label">Profile</span>
</button>
<button
type="button"
class="mdc-button"
data-mdc-dialog-action="yes"
onclick="friends()">
<span class="mdc-button__label">Friends</span>
</button>
</div>



<div class="mdc-card" >
  <input id="ub-url"></input>
  <div class="mdc-card" id="ub-up">UP</div>
  <!-- ... content ... -->
</div>
<div class="mdc-card" id="ub-parent">
  contenu
  <span class="mdc-tab__icon material-icons" aria-hidden="true">arrow_upward</span>
  <!-- ... content ... -->
</div>

liste:   <ul id="ub-liste">
</ul>

</div>






<!--
<div class="mdc-card" >
<div  id="arrow-upward">
<span class="mdc-tab__icon material-icons" aria-hidden="true">arrow_upward</span>
</div>
url :  <input id="ub-url"></input>
parent : <input id="ub-parent" ></input>
up :<input id="ub-up">UP</input>
menu:   <span id="ub-menu">menu</span>
liste:   <ul id="ub-liste">
</ul>
</div>-->

<div id="mdc-tab-4-panel" class="js-panel" role="tabpanel" aria-hidden="false">
  Distant et Collab

</div>
</div>




</section>



<!--
<button type="button" class="mdc-button mdc-dialog__button">
<span class="mdc-button__label raised" onclick="validInput()">Valider</span>
</button>
-->
</div>
<footer class="mdc-dialog__actions">
  <!--<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">
  <span class="mdc-button__label">No</span>
</button>-->
<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">
  <span class="mdc-button__label">Fermer</span>
</button>
</footer>
</div>
</div>

<div class="mdc-dialog__scrim"></div>
</div>


<div
id="last_pub"
class="mdc-dialog"
role="alertdialog"
aria-modal="true"
aria-labelledby="my-dialog-title"
aria-describedby="my-dialog-content">
<div class="mdc-dialog__container">
  <div class="mdc-dialog__surface">
    <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
    <h2 class="mdc-dialog__title" id="my-dialog-title"><!--
    -->Dernières publications <span></span><!--
  --></h2>
  <div class="mdc-dialog__content" id="my-dialog-content">
    <ul id="last-public">

    </ul>
    <!--
    <button type="button" class="mdc-button mdc-dialog__button">
    <span class="mdc-button__label raised" onclick="validInput()">Valider</span>
  </button>
-->
</div>
<footer class="mdc-dialog__actions">
  <!--<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">
  <span class="mdc-button__label">No</span>
</button>-->
<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">
  <span class="mdc-button__label">Fermer</span>
</button>
</footer>
</div>
</div>

<div class="mdc-dialog__scrim"></div>
</div>



<div
id="editor_dialog"
class="mdc-dialog"
role="alertdialog"
aria-modal="true"
aria-labelledby="editor-dialog-title"
aria-describedby="editor-dialog-content">
<div class="mdc-dialog__container" style="width:800px">
  <div class="mdc-dialog__surface">
    <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
    <h2 class="mdc-dialog__title" id="editor-dialog-title">Editeur<span> X</span></h2>
    <div class="mdc-dialog__content" id="editor-dialog-content" >
      <pre id="editor"></pre>
    </div>
    <footer class="mdc-dialog__actions">
      <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">
        <span class="mdc-button__label">Fermer</span>
      </button>
    </footer>
  </div>
</div>
<div class="mdc-dialog__scrim"></div>
</div>

<div
id="reglages_dialog"
class="mdc-dialog"
role="alertdialog"
aria-modal="true"
aria-labelledby="reglages-dialog-title"
aria-describedby="reglages-dialog-content">
<div class="mdc-dialog__container">
  <div class="mdc-dialog__surface">
    <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
    <h2 class="mdc-dialog__title" id="reglages-dialog-title">Réglages<span> X</span></h2>
    <div class="mdc-dialog__content" id="reglages-dialog-content">
      <fieldset>
        <legend>  <div><button onclick="setDefaultReglages()">Defaut</button></div></legend>
        <div  style="float:auto">
          <div>Gravité:<input type="range" min="0" max="10"  step="0.05" class="slider" title="Gravité" id="gravite"  oninput="reglage(this.id,this.value)" onchange="reglage(this.id,this.value)"></div>
          <div>Longueur:<input type="range" min="0" max="500" step="5" class="slider" title="Longueur des liens" id="longueur"  oninput="reglage(this.id,this.value)" onchange="reglage(this.id,this.value)"></div>
          <div>Force:<input type="range" min="0" max="1" step="0.005" class="slider" title="Force des liens" id="force"  oninput="reglage(this.id,this.value)" onchange="reglage(this.id,this.value)"></div>
          <div>Distance:<input type="range" min="0" max="500" step="5" class="slider" title="Distance entre deux noeuds" id="distance" oninput="reglage(this.id,this.value)" onchange="reglage(this.id,this.value)"></div>
          <div>Résistance:<input type="range" min="0" max="1" step="0.01" class="slider" title="Resistance" id="resistance"  oninput="reglage(this.id,this.value)" onchange="reglage(this.id,this.value)"></div>
        </div>
      </fieldset>


      <div>
        <input type="color" id="bodycolorpicker" name="bodycolorpicker" value="#D2E5FF"> <label for="bodycolorpicker">Body</label>
        <input type="color" id="bordercolorpicker" name="bordercolorpicker" value="#2B7CE9"><label for="bordercolorpicker">Contour</label>
        <br>
        <button  onclick="resetColors()">retablir les couleurs</button>
        <br>
        <!-- transparence https://gist.github.com/lopspower/03fb1cc0ac9f32ef38f4 -->
        <input type="checkbox" id="autofocus" name="autofocus" checked><label for="autofocus">AutoFocus</label>
        <input type="checkbox" id="autofit" name="autofit" ><label for="autofit">Autofit</label>
      </div>

      <div>
        langue :
        <select id="locale" onchange="draw(this.value);" disabled> <!-- disabled car probleme de menu après changement de langue -->
          <option value="en">en</option>
          <option value="de">de</option>
          <option value="es">es</option>
          <!--<option value="fr">fr</option>-->
          <option value="it">it</option>
          <option value="nl">nl</option>
          <option value="pt-br">pt</option>
          <option value="ru">ru</option>
        </select>
      </div>

    </div>
    <footer class="mdc-dialog__actions">
      <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">
        <span class="mdc-button__label">Fermer</span>
      </button>
    </footer>
  </div>
</div>
<div class="mdc-dialog__scrim"></div>
</div>



<!-- modele dialog
<div
id="reglages_dialog"
class="mdc-dialog"
role="alertdialog"
aria-modal="true"
aria-labelledby="reglages-dialog-title"
aria-describedby="reglages-dialog-content">
<div class="mdc-dialog__container">
<div class="mdc-dialog__surface">

<h2 class="mdc-dialog__title" id="reglages-dialog-title">Réglages<span> X</span></h2>
<div class="mdc-dialog__content" id="reglages-dialog-content">
contenu
</div>
<footer class="mdc-dialog__actions">
<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">
<span class="mdc-button__label">Fermer</span>
</button>
</footer>
</div>
</div>
<div class="mdc-dialog__scrim"></div>
</div>
fin modele dialog -->






</div>

<!-- fin pop-ups -->

<div id="app"></div>
<div id="app2"></div>
<div id="app3"></div>

<div>
  <!-- test ouverture material design dialog -->
  <div class="mdc-checkbox">
    <input type="checkbox" id="my-checkbox" class="mdc-checkbox__native-control"/>
    <div class="mdc-checkbox__background">
      ...
    </div>
  </div>
  <label for="my-checkbox">Test ouverture dialog box</label>


  <div class="mdc-dialog"
  role="alertdialog"
  aria-modal="true"
  aria-labelledby="my-dialog-title"
  aria-describedby="my-dialog-content">
  <div class="mdc-dialog__container">
    <div class="mdc-dialog__surface">
      <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
      <h2 class="mdc-dialog__title" id="my-dialog-title"><!--
      -->Dialog Title<!--
    --></h2>
    <div class="mdc-dialog__content" id="my-dialog-content">
      Dialog body text goes here.
    </div>
    <footer class="mdc-dialog__actions">
      <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">
        <span class="mdc-button__label">No</span>
      </button>
      <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="yes">
        <span class="mdc-button__label">Yes</span>
      </button>
    </footer>
  </div>
</div>
<div class="mdc-dialog__scrim"></div>
</div>


</div>
</div>

<!--<accueil-holacratie mood="great"></accueil-holacratie>-->
<!--<accueil-holacratie mood="great"></accueil-holacratie>-->
</body>
</html>
<script src="./dist/ace-builds/src-min-noconflict/ace.js"></script>
<!-- load ace language tools -->
<script src="./dist/ace-builds/src-min-noconflict/snippets/turtle.js"></script>
<script>
//https://ace.c9.io/#nav=api&api=editor
var editor = ace.edit("editor", {
  theme: "ace/theme/tomorrow_night_eighties",
  mode: "ace/mode/turtle",
  maxLines: 30,
  wrap: true,
  autoScrollEditorIntoView: true
});


//editor.insert("test")
</script>

<script>
// create agents
var historiqueAgent = new HistoriqueAgent('historiqueAgent');
var appAgent = new AppAgent('appAgent');
var rdfAgent = new RdfAgent('rdfAgent');
//  var authAgent = new AuthAgent('authAgent');
var fileAgent = new FileAgent('fileAgent');

historiqueAgent.send('historiqueAgent', 'Prêt!');
appAgent.send('historiqueAgent', 'Prêt!');
rdfAgent.send('historiqueAgent', 'Prêt!');
fileAgent.send('historiqueAgent', 'Prêt!');
//authAgent.send('historiqueAgent', 'Prêt!');
</script>

<script type="text/javascript" src="./js/solid_web_socket.js"></script>
<script>
var goFS = document.querySelector(".goFS");
goFS.addEventListener("click", function() {
  toggleFullScreen();
}, false);
</script>

<!--<script src="https://unpkg.com/hyperhtml@latest/min.js"></script>-->
<script src="./dist/hyperhtml.min.js"></script>
<script type="module" src="./hyper/app.js"></script>

<!-- TEST JS MODULES -->
<script type="module" src="./modules/main.mjs"></script>
<script nomodule src="fallback.js"></script>
